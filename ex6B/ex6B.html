<!DOCTYPE html>
<html>
 <head>
    <title>Exercici 6B Springtrap</title>
   <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
   <script>
    AFRAME.registerComponent("mylink", {
    init: function() {  
     this.el.addEventListener("click", (e) => {              
        window.location = this.data.href;      
       })
    }
  })
    </script>

 </head>
<body>
    <a-scene cursor="rayOrigin: mouse">
        <a-assets>
          <img id="imgSortida" src="assets/entragroc.png" >
          <img id="imgFantasma" src="assets/fantasma.png" >
          <img id="imgCasa" src="assets/fnaf.jpg" >
          <a-asset-item id="springtrap" src="springtrap_v2/scene.gltf"></a-asset-item>
          <img id="sonic" src="assets/classicSonic.jpeg" />
        </a-assets>
       
        <a-entity camera look-controls wasd-controls="false">
        <!-- fuseTimeout = el temps que triga en fer click des de que es posiciona sobre un objecte-->
         <a-entity cursor="fuse: true; fuseTimeout: 2000"
               position="0 0 -1"
               geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
               material="color: red; shader: flat"
               animation="property: components.material.material.color;
                     type: color;
                     to: white;
                     dur: 1000;
                     dir: alternate;
                     loop: true">
         </a-entity>
        </a-entity>
    
        <a-sky src="#imgCasa"></a-sky>
        <a-sphere position="5 2 -5" radius="1"  src="#imgFantasma"
        animation="property: rotation; dur: 10000; to: 0 360 0; loop: true"
        mylink="href:https://erik-bit7.github.io/mindar_erik/ex6/ex6.html">          
        </a-sphere>

        <a-sphere position="3 2 -3" radius="1"  src="#sonic"
        mylink="href:https://erik-bit7.github.io/mindar_erik/ex5/ex5.html">          
        </a-sphere>
        
    
        <a-entity gltf-model="#springtrap" position="-8 -4.4 0" rotation="0 90 0" scale="0.10 0.10 0.10"
        animation="property: position; to: -51 -2.4 5; dur: 5000; dir: alternate; loop: true">        
        </a-entity>

        
        <a-plane position="-4.-4 0 4.3" src="#imgSortida" rotation="0 90 0" transparent="true"
        animation="property: position; to: -4.-4 0 8.0; dur: 5000; dir: alternate; loop: true" 
         mylink="href:https://erik-bit7.github.io/mindar_erik/">
        </a-plane>
    </a-scene>
</body>
</html>
