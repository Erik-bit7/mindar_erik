<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¿Dónde está Wally?</title>

    <!-- Importar A-Frame -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>

    <!-- Importar MindAR -->
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.0/dist/mindar-image-aframe.prod.js"></script>

    <style>
        body { margin: 0; overflow: hidden; }
        
        /* Estilos para que la cámara AR ocupe toda la pantalla */
        #ar-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
        }

        /* Código QR en la esquina superior izquierda */
        #qr-code {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 100px;
            height: 100px;
            z-index: 10;
        }
    </style>
</head>
<body>
    <!-- Código QR para acceder a la web -->
    <img id="qr-code" src="codQR.png" alt="Código QR">

    <!-- Contenedor para la Realidad Aumentada -->
    <div id="ar-container">
        <a-scene 
            mindar-image="imageTargetSrc: targets.mind"
            embedded 
            color-space="sRGB"
            renderer="antialias: true; alpha: true"
            vr-mode-ui="enabled: false"
            device-orientation-permission-ui="enabled: false">

            <!-- Cámara MindAR -->
            <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

            <!-- Mapa SIEMPRE visible -->
            <a-image 
                src="whereiswally4BN.png" 
                position="0 0 -3" 
                width="10" 
                height="10">
            </a-image>

            <!--  MARCADORES DE MINDAR -->

            <!--  Primer marcador: Castillo con elefante animado -->
            <a-entity mindar-image-target="targetIndex: 0">
                <a-gltf-model 
                    src="models/elephant.glb"
                    position="0 0 0"
                    scale="0.2 0.2 0.2"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 3000">
                </a-gltf-model>
            </a-entity>

            <!--  Segundo marcador: Wally escondido -->
            <a-entity mindar-image-target="targetIndex: 1">
                <a-image 
                    src="wally.png" 
                    position="0 0 0" 
                    scale="0.5 0.5 0.5">
                </a-image>
            </a-entity>

        </a-scene>
    </div>

</body>
</html>